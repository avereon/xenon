<!--
This is the Xenon tool manual. It is formatted as a partial HTML document in
order to be used with the DocViewer component on the Avereon website. The
h1-h6 tags that are children of the root div element, and have an id, will be
used as an outline when displayed. Note also that links are relative to the
Avereon website or must be fully qualified.
-->

<div>

	<h1>Tool Guide</h1>
	<p>2020-05-06</p>
	<p>
		Tools are at the heart of functionality in Xenon. Without tools Xenon
		does not provide functionality for user work.
	</p>

	<h2 id="getting-started">Getting Started</h2>
	<p>
		All tools should start by inheriting from the ProgramTool or GuidedTool
		class. ProgramTool provides the most basic functionality while GuidedTool
		should be used for tools that work in conjunction with the guide tool.
	</p>

	<pre>
public class MyTool extends ProgramTool {

  public MyTool( Program program, Asset asset ) {
    super( program, asset );
  }

}</pre>

	<h2 id="recommended-practices">Recommended Practices</h2>

	<h3 id="logic-for-tool-methods">
		What logic to put in what methods
	</h3>
	<h4 id="ready">ready()</h4>
	<ul>
		<li>Register asset model event handlers</li>
		<li>Register/update asset guide</li>
	</ul>
	<h4 id="open">open()</h4>
	<ul>
		<li>Asset navigation (e.g. selecting a page based on the URI fragment)</li>
	</ul>
	<h4 id="activate">activate()</h4>
	<ul>
		<li>Register custom tool actions</li>
		<li>Register tool action handlers</li>
		<li>Register/update asset guide</li>
		<li>Update action state</li>
	</ul>
	<h4 id="conceal">conceal()</h4>
	<ul>
		<li>Unregister custom tool actions</li>
		<li>Unregister tool action handlers</li>
		<li>Unregister asset guide</li>
	</ul>
	<h4 id="remove">deallocate()</h4>
	<ul>
		<li>Unregister asset model event handlers</li>
	</ul>

	<h3 id="update-tool-on-asset-model-changes">
		Update tool on asset model changes
	</h3>
	<p>
		The recommended way to update the tool state when the asset changes is to
		register event handlers on the asset model for the changes the tool needs
		in order to keep the state up-to-date. Registering event handlers directly
		on the asset will provide high-level events, but usually does not provide
		enough information for the tool to make efficient decisions. Event handlers
		on the asset model should be registered as "deep" as reasonable so that the
		handler only has to process as little as possible. <em>Important:</em> Be
		sure to unregister the event handlers when the tool is deallocated.
	</p>

</div>